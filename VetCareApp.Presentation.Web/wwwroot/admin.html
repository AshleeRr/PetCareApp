<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetCare - Panel Administrador</title>
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-left">
            <span class="paw-icon">üêæ</span>
            <h1>Panel de Administraci√≥n</h1>
        </div>
        <div class="header-right">
            <span class="user-info" id="userName">Administrador</span>
            <button class="btn-logout" id="logoutBtn">Cerrar Sesi√≥n</button>
        </div>
    </div>

    <!-- Contenedor principal -->
    <div class="container">
        <div class="layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <h3>Administraci√≥n</h3>
                <div class="menu-item active" data-section="dashboard">
                    <span class="icon">üìä</span>
                    <span>Dashboard</span>
                </div>
                <div class="menu-item" data-section="usuarios">
                    <span class="icon">üë§</span>
                    <span>Usuarios</span>
                </div>
                <div class="menu-item" data-section="roles">
                    <span class="icon">üîê</span>
                    <span>Roles</span>
                </div>
                <div class="menu-item" data-section="personal">
                    <span class="icon">üë®‚Äç‚öïÔ∏è</span>
                    <span>Personal</span>
                </div>
                <!--<div class="menu-item" data-section="reportes">
                    <span class="icon">üìà</span>
                    <span>Reportes</span>
                </div>-->
                <!--<div class="menu-item" data-section="configuracion">
                    <span class="icon">‚öôÔ∏è</span>
                    <span>Configuraci√≥n</span>
                </div>-->
                <div class="menu-item" data-section="logs">
                    <span class="icon">üìã</span>
                    <span>Logs del Sistema</span>
                </div>
            </aside>

            <!-- Contenido principal -->
            <main class="main-content">
                <!-- Dashboard Administrativo -->
                <section id="dashboard" class="section active">
                    <h2>Panel de Control Administrativo</h2>
                    <!-- Estad√≠sticas principales -->
                    <div class="stats-grid">
                        <div class="stat-card stat-primary">
                            <div class="icon">üë•</div>
                            <div class="stat-info">
                                <div class="number" id="totalUsuarios">0</div>
                                <div class="label">Usuarios Totales</div>
                            </div>
                        </div>
                        <div class="stat-card stat-success">
                            <div class="icon">üë®‚Äç‚öïÔ∏è</div>
                            <div class="stat-info">
                                <div class="number" id="totalPersonal">0</div>
                                <div class="label">Personal Activo</div>
                            </div>
                        </div>
                        <div class="stat-card stat-warning">
                            <div class="icon">üìÖ</div>
                            <div class="stat-info">
                                <div class="number" id="citasMes">0</div>
                                <div class="label">Citas este Mes</div>
                            </div>
                        </div>
                        <div class="stat-card stat-info">
                            <div class="icon">üí∞</div>
                            <div class="stat-info">
                                <div class="number" id="ingresosMes">RD$ 0</div>
                                <div class="label">Ingresos del Mes</div>
                            </div>
                        </div>
                    </div>

                    <!-- Gr√°ficos y m√©tricas -->
                    <div class="charts-grid">
                        <div class="chart-card">
                            <h3>Actividad del Sistema</h3>
                            <canvas id="actividadChart" width="400" height="200"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Usuarios por Rol</h3>
                            <div class="role-stats">
                                <div class="role-item">
                                    <span class="role-badge badge-admin">Administrador</span>
                                    <span class="role-count" id="countAdmin">0</span>
                                </div>
                                <div class="role-item">
                                    <span class="role-badge badge-vet">Veterinario</span>
                                    <span class="role-count" id="countVet">0</span>
                                </div>
                                <div class="role-item">
                                    <span class="role-badge badge-recep">Recepcionista</span>
                                    <span class="role-count" id="countRecep">0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Accesos r√°pidos -->
                    <h3 class="subtitle-section">Accesos R√°pidos</h3>
                    <div class="quick-actions">
                        <button class="quick-btn" onclick="irSeccion('usuarios')">
                            <span class="icon">‚ûï</span>
                            Nuevo Usuario
                        </button>
                        <button class="quick-btn" onclick="irSeccion('personal')">
                            <span class="icon">üë®‚Äç‚öïÔ∏è</span>
                            Gestionar Personal
                        </button>
                        <!--<button class="quick-btn" onclick="irSeccion('reportes')">
                            <span class="icon">üìä</span>
                            Ver Reportes
                        </button>-->
                        <button class="quick-btn" onclick="generarBackup()">
                            <span class="icon">üíæ</span>
                            Backup del Sistema
                        </button>
                    </div>
                </section>

                <!-- Gesti√≥n de Usuarios -->
                <section id="usuarios" class="section">
                    <h2>Gesti√≥n de Usuarios</h2>
                    <div class="search-bar">
                        <input type="text" id="buscarUsuario" class="search-input"
                            placeholder="Buscar usuario por nombre o email...">
                        <button class="btn-search" id="btnBuscarUsuario">Buscar</button>
                        <button class="btn-add" id="btnAgregarUsuario">+ Nuevo Usuario</button>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Rol</th>
                                    <th>Estado</th>
                                    <th>√öltima Conexi√≥n</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="tablaUsuarios">
                                <tr>
                                    <td colspan="7" style="text-align: center; color: #6B7280;">Cargando usuarios...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Gesti√≥n de Roles -->
                <section id="roles" class="section">
                    <h2>Gesti√≥n de Roles y Permisos</h2>
                    <p style="color: #6B7280; margin-bottom: 2rem;">Define los roles y permisos del sistema</p>

                    <div class="roles-grid">
                        <div class="role-card">
                            <div class="role-header">
                                <h3>Administrador</h3>
                                <span class="role-badge badge-admin">Admin</span>
                            </div>
                            <ul class="permissions-list">
                                <li>‚úì Acceso total al sistema</li>
                                <li>‚úì Gesti√≥n de usuarios</li>
                                <li>‚úì Configuraci√≥n del sistema</li>
                                <li>‚úì Ver todos los reportes</li>
                                <li>‚úì Gesti√≥n de roles</li>
                            </ul>
                            <!--<button class="btn-edit-role">Editar Permisos</button>-->
                        </div>

                        <div class="role-card">
                            <div class="role-header">
                                <h3>Veterinario</h3>
                                <span class="role-badge badge-vet">Vet</span>
                            </div>
                            <ul class="permissions-list">
                                <li>‚úì Gesti√≥n de mascotas</li>
                                <li>‚úì Gesti√≥n de citas</li>
                                <li>‚úì Historial m√©dico</li>
                                <li>‚úì Recetas y medicamentos</li>
                                <li>‚úó Gesti√≥n de usuarios</li>
                            </ul>
                            <!--<button class="btn-edit-role">Editar Permisos</button>-->
                        </div>

                        <div class="role-card">
                            <div class="role-header">
                                <h3>Recepcionista</h3>
                                <span class="role-badge badge-recep">Recep</span>
                            </div>
                            <ul class="permissions-list">
                                <li>‚úì Gesti√≥n de clientes</li>
                                <li>‚úì Agendar citas</li>
                                <li>‚úì Gesti√≥n de productos</li>
                                <li>‚úì Inventario b√°sico</li>
                                <li>‚úó Reportes financieros</li>
                            </ul>
                            <!--<button class="btn-edit-role">Editar Permisos</button>-->
                        </div>
                    </div>
                </section>

                <!-- Gesti√≥n de Personal -->
                <section id="personal" class="section">
                    <h2>Gesti√≥n de Personal</h2>
                    <div class="search-bar">
                        <input type="text" id="buscarPersonal" class="search-input"
                            placeholder="Buscar por nombre o c√©dula...">
                        <button class="btn-search" id="btnBuscarPersonal">Buscar</button>
                        <button class="btn-add" id="btnAgregarPersonal">+ Agregar Personal</button>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nombre Completo</th>
                                    <th>C√©dula</th>
                                    <th>Cargo</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="tablaPersonal">
                                <tr>
                                    <td colspan="6" style="text-align: center; color: #6B7280;">Cargando personal...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Reportes -->
                <!--<section id="reportes" class="section">
                    <h2>Reportes y An√°lisis</h2>
                    
                    <div class="reports-filters">
                        <div class="filter-group">
                            <label>Tipo de Reporte</label>
                            <select class="form-control" id="tipoReporte">
                                <option value="ventas">Ventas</option>
                                <option value="citas">Citas</option>
                                <option value="inventario">Inventario</option>
                                <option value="clientes">Clientes</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Fecha Inicio</label>
                            <input type="date" class="form-control" id="fechaInicio">
                        </div>
                        <div class="filter-group">
                            <label>Fecha Fin</label>
                            <input type="date" class="form-control" id="fechaFin">
                        </div>
                        <button class="btn-generate-report" id="btnGenerarReporte">
                            üìä Generar Reporte
                        </button>
                    </div>

                    <div class="report-results" id="reportResults">
                        <p style="text-align: center; color: #6B7280; padding: 3rem;">
                            Selecciona los filtros y genera un reporte
                        </p>
                    </div>
                </section> -->

                <!-- Configuraci√≥n -->
                <!--<section id="configuracion" class="section">
                    <h2>Configuraci√≥n del Sistema</h2>
                    
                    <div class="config-grid">
                        <div class="config-card">
                            <h3>üè¢ Informaci√≥n de la Empresa</h3>
                            <div class="config-item">
                                <label>Nombre de la Cl√≠nica</label>
                                <input type="text" class="form-control" value="PetCare Veterinaria">
                            </div>
                            <div class="config-item">
                                <label>Direcci√≥n</label>
                                <input type="text" class="form-control" value="Av. Principal #123, Santo Domingo">
                            </div>
                            <div class="config-item">
                                <label>Tel√©fono</label>
                                <input type="text" class="form-control" value="809-000-0000">
                            </div>
                            <button class="btn-save-config">Guardar Cambios</button>
                        </div>

                        <div class="config-card">
                            <h3>‚è∞ Horarios de Atenci√≥n</h3>
                            <div class="config-item">
                                <label>Hora de Apertura</label>
                                <input type="time" class="form-control" value="08:00">
                            </div>
                            <div class="config-item">
                                <label>Hora de Cierre</label>
                                <input type="time" class="form-control" value="18:00">
                            </div>
                            <div class="config-item">
                                <label>D√≠as Laborables</label>
                                <div class="days-selector">
                                    <label><input type="checkbox" checked> Lunes</label>
                                    <label><input type="checkbox" checked> Martes</label>
                                    <label><input type="checkbox" checked> Mi√©rcoles</label>
                                    <label><input type="checkbox" checked> Jueves</label>
                                    <label><input type="checkbox" checked> Viernes</label>
                                    <label><input type="checkbox"> S√°bado</label>
                                    <label><input type="checkbox"> Domingo</label>
                                </div>
                            </div>
                            <button class="btn-save-config">Guardar Horarios</button>
                        </div>

                        <div class="config-card">
                            <h3>üí∞ Configuraci√≥n Financiera</h3>
                            <div class="config-item">
                                <label>Moneda</label>
                                <select class="form-control">
                                    <option value="DOP" selected>Peso Dominicano (RD$)</option>
                                    <option value="USD">D√≥lar (USD)</option>
                                </select>
                            </div>
                            <div class="config-item">
                                <label>IVA (%)</label>
                                <input type="number" class="form-control" value="18">
                            </div>
                            <button class="btn-save-config">Guardar Configuraci√≥n</button>
                        </div>

                        <div class="config-card">
                            <h3>üîí Seguridad</h3>
                            <div class="config-item">
                                <label>Sesi√≥n Expira en (minutos)</label>
                                <input type="number" class="form-control" value="30">
                            </div>
                            <div class="config-item">
                                <label><input type="checkbox" checked> Requerir contrase√±a fuerte</label>
                            </div>
                            <div class="config-item">
                                <label><input type="checkbox"> Autenticaci√≥n de dos factores</label>
                            </div>
                            <button class="btn-save-config">Guardar Seguridad</button>
                        </div>
                    </div>
                </section>-->

                <!-- Logs del Sistema -->
                <section id="logs" class="section">
                    <h2>Logs del Sistema</h2>
                    <div class="search-bar">
                        <select class="search-input" id="filtroTipoLog" style="max-width: 200px;">
                            <option value="">Todos</option>
                            <option value="INFO">Info</option>
                            <option value="WARNING">Advertencia</option>
                            <option value="ERROR">Error</option>
                        </select>
                        <input type="date" class="search-input" id="filtroFechaLog" style="max-width: 200px;">
                        <button class="btn-search" id="btnBuscarLogs">Filtrar</button>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Timestamp</th>
                                    <th>Usuario</th>
                                    <th>Acci√≥n</th>
                                    <th>Tipo</th>
                                    <th>Detalles</th>
                                </tr>
                            </thead>
                            <tbody id="tablaLogs">
                                <tr>
                                    <td colspan="5" style="text-align: center; color: #6B7280;">Cargando logs...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Nuevo Registro</h3>
                <button class="btn-close" id="btnCloseModal">‚úï</button>
            </div>
            <form id="modalForm">
                <div id="modalFormContent"></div>
                <button type="submit" class="btn-submit">Cancelar</button>
            </form>
        </div>
    </div>

    <script src="js/usuarios.js"></script>
    <script src="js/admin.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>